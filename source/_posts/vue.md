---
title: vue
date: 2016-11-16 10:42:11
tags: [vue,åŸºäºvueç›´æ’­æ’­æ”¾å™¨å®æˆ˜]
---

#	åŸºäº Vue çš„ç›´æ’­æ’­æ”¾å™¨å®æˆ˜

![Mou icon](http://7xr2s7.com1.z0.glb.clouddn.com/%E5%9F%BA%E4%BA%8E%20Vue%20%E7%9A%84%E7%9B%B4%E6%92%AD%E6%92%AD%E6%94%BE%E5%99%A8%E5%AE%9E%E6%88%98.jpeg)
## <font style="color:red"> --å‰è¨€-- </font>

#### æ—¶ä¸‹ç›´æ’­çš„ç››è¡Œè®©å¾ˆå¤šäººå¯¹ç›´æ’­æŠ€æœ¯äº§ç”Ÿæµ“åšçš„å…´è¶£ï¼Œorange æœ¬äººä¹Ÿä¸ä¾‹å¤–ï¼Œæœ¬æ–‡å€Ÿç€å®æˆ˜çš„ç›®çš„å®Œæˆä¸€ä¸ª demoï¼Œå¹¶æ²¡æœ‰æ·±å…¥çš„è®²è§£ç›´æ’­æŠ€æœ¯çš„å®ç°åŸç†ä»¥åŠæ¨æµå’Œæ‹‰æµçš„å®ç°ï¼Œä¸ºä»€ä¹ˆä¸æ·±å…¥è®²è§£ç›´æ’­çš„åº•å±‚æŠ€æœ¯ï¼ŒåŸå› å¾ˆç®€å•å¤§å…¬å¸æ²¡å¿…è¦çœ‹æˆ‘çš„æ–‡ç« å»äº†è§£å¦‚ä½•æ­å»ºç›´æ’­æœåŠ¡å™¨ï¼Œå°ä¼ä¸šåˆæ²¡æœ‰ä¸è¦å»æ­å»ºè‡ªå·±çš„ç›´æ’­æœåŠ¡å™¨ï¼Œå› ä¸ºæ¶‰åŠåˆ°çš„æŠ€æœ¯ç¹æ‚åˆçç¢ï¼Œæ„Ÿå…´è¶£çš„ç›´æ¥è°·æ­Œï¼Œå„ä½å¤§ç¥æœ‰ä¸åŒæ·±åº¦çš„è®²è§£æ€ä¹ˆå»æ­å»ºè‡ªå·±çš„ç›´æ’­æœåŠ¡å™¨ï¼Œé‚£ä¹ˆå°ä¼ä¸šäººå‘˜ã€èµ„é‡‘å’ŒæŠ€æœ¯æœ‰é™æ€ä¹ˆåŠï¼Œæ²¡é”™ï¼ä¹°æœåŠ¡ï¼ï¼ï¼

#### ç›´æ’­äº‘æœåŠ¡ä¹Ÿæ˜¯ä»Šå¹´çš„ä¸€ä¸ªäº®ç‚¹ï¼Œå„å¤§äº‘å¹³å°éƒ½åœ¨åšç›´æ’­çš„æœåŠ¡ï¼Œè‡³äºå¿«æ…¢é€‰æ‹©çš„è¯ orange åªç”¨è¿‡ä¸ƒç‰›äº‘ç›´æ’­ï¼Œæ²¡åŠæ³•æ‹¿æ•°æ®ç»™å¤§å®¶å»ºè®®

#### ä¸ƒç‰›çš„æ–‡æ¡£ç»™çš„æ¯”è¾ƒè¯¦ç»†ï¼Œå¦‚ä½•è·å¾—è‡ªå·±çš„ç›´æ’­ç©ºé—´ï¼Œå¦‚ä½•ç»‘å®šå¤‡æ¡ˆåŸŸåï¼Œå¦‚ä½•è§£æåŸŸåï¼Œå¦‚ä½•åˆ›å»ºç›´æ’­é—´ä»¥åŠæ•´ä¸ªçš„å·¥ä½œæµç¨‹å…ˆä¸Š[ä¸ƒç‰›å®˜ç½‘](http://developer.qiniu.com/article/index.html#pili/),å…¶æ¬¡çœ‹ [github ä¸Šçš„åº“](https://github.com/pili-engineering)

#### æ•´ä¸ªè¿‡ç¨‹ç›¸ä¿¡å¤§å®¶éƒ½èƒ½é¡ºåˆ©å®Œæˆï¼Œè¯´åˆ°æˆ‘ä»¬çš„æ’­æ”¾å™¨æ‹‰æµï¼Œé‚£ä¹ˆæ’­æ”¾çš„æ¥æºæ€ä¹ˆè·å–å‘¢ï¼Ÿæœ‰å®‰å“å’Œioså¼€å‘ç»éªŒçš„å¯ä»¥ç”¨ç§»åŠ¨ç«¯æ¨æµï¼Œæ²¡æœ‰ç»éªŒçš„ä¹Ÿä¸è¦ç´§æ¨èä¸€ä¸ª[æ–—é±¼çš„ OBS æ•™ç¨‹](https://www.douyu.com/cms/zhibo/201311/13/250.shtml)



	æ³¨ï¼šä»¥ä¸Šçš„ç›´æ’­ç©ºé—´çš„æ­å»ºæ²¡æœ‰å®Œæˆä¹Ÿå¯ä»¥çœ‹æœ¬æ–‡ï¼Œæ›´å¸Œæœ›å¤§å®¶å¯ä»¥åšæˆä¸€ä¸ªå®Œæ•´çš„ demoï¼Œæˆ‘ä»¬çš„é‡ç‚¹è¿˜æ˜¯åœ¨äºæ’­æ”¾å™¨çš„å®ç°ã€‚
	
## <font style="color:red"> --ç›´æ’­åè®®-- </font>

#### é¦–å…ˆï¼Œéœ€è¦çŸ¥é“ç›´æ’­çš„å¸¸ç”¨åè®®ï¼ŒRTMP å’Œ HLSï¼Œç»è¿‡æµ‹è¯•åœ¨ä¸ƒç‰›äº‘ç›´æ’­å¹³å°ä¸é‡‡ç”¨åŠ é€Ÿçš„æƒ…å†µä¸‹ RTMP çš„å»¶æ—¶åœ¨ 10s å†…ï¼ŒHLS åœ¨ 10-20sã€‚ç»è¿‡ä¼˜åŒ–åçš„è¿˜æ²¡æµ‹è¯•è¿‡ã€‚

#### è‡³äºè¿™ä¸¤ä¸ªåè®®çš„é€‰æ‹©è¿˜éœ€è¦æ ¹æ®å®é™…æƒ…å†µè€Œå®šï¼ˆåªçœ‹å»¶æ—¶å¤§å°æ˜¯ä¸å¯¹æ»´ï¼‰ï¼Œè¿˜æ˜¯ç»™é“¾æ¥[ç›´æ’­åè®®çš„é€‰æ‹©ï¼šRTMP vs. HLS](http://www.samirchen.com/ios-rtmp-vs-hls/)

## <font style="color:red"> --Vue ç»“åˆ-- </font>

#### åšè¿‡ H5 æ’­æ”¾å™¨çš„å¯¹ä¸ video.js å¹¶ä¸é™Œç”Ÿï¼Œå®ç°çš„å‡ºå‘ç‚¹ä¹Ÿæ˜¯åœ¨ video.js ä¸Šï¼Œé»˜è®¤å¤§å®¶éƒ½æœ‰ Vue æ­å»ºå’Œç®€å•è¿ç”¨èƒ½åŠ›äº†ï¼Œæ²¡æœ‰ç»éªŒçš„å¯ä»¥çœ‹ orange ä¹‹å‰å†™çš„å…¥é—¨æ–‡ç« ã€‚

é¦–å…ˆæˆ‘ä»¬è¦æ–°å»ºä¸€ä¸ªç»„ä»¶ï¼Œè¿™ä¸ªç»„ä»¶å°±æ˜¯æ’­æ”¾å™¨çš„ç»„ä»¶ï¼Œç»„ä»¶åéšæ„ï¼Œæœ€åˆçš„æƒ³æ³•æ˜¯ç›´æ¥ä½¿ç”¨ video.jsï¼Œä½†æ˜¯è¸©çš„å‘æ¯”è¾ƒæ·±æ‰€ä»¥ä¸æ¨èç›´æ¥ä½¿ç”¨ã€‚

	å‘ï¼šé¦–æ¬¡è½½å…¥ä¸ä¼šæœ‰é—®é¢˜ï¼Œè·¯ç”±è·³è½¬åå†å›æ¥å¦‚æœä¸åˆ·æ–°é¡µé¢ï¼Œimport è¿›æ¥çš„ videojs å¹¶ä¸ä¼šæ‰§è¡Œï¼Œæ‰€ä»¥éœ€è¦åœ¨ mounted é‡Œæ‰§è¡Œ videojs() å‡½æ•°ï¼Œç„¶åä¼ å¯¹åº”çš„å‚æ•°è¿›å»ï¼Œæœ€åéœ€è¦åŠ å…¥ä¸‹é¢ä»£ç é˜²æ­¢ç›‘å¬å‡½æ•°åœ¨åˆ‡æ¢è·¯ç”±åç»§ç»­æ‰§è¡Œã€‚
#### å‘ä¹Ÿè¸©å®Œäº†ï¼Œäºæ˜¯é€›äº†ä¸€åœˆ githubï¼Œå‘ç°äº†ä¸€ä¸ªé¡¹ç›®å« vue-video-player

#### å…ˆå®‰è£…ä¾èµ–

	npm install vue-video-player --save
	
#### å¼•ç”¨ä¾èµ–


	// import with ES6
	import Vue from 'vue'
	...
	import VideoPlayer from 'vue-video-player'


	// require with Node.js/Webpack
	var Vue = require('vue')
	...
	var VideoPlayer = require('vue-video-player')

	// The default is to turn off some of the features, you can choose according to their use of certain 	features enabled, do not enable the introduction will not require the corresponding file. é»˜è®¤æœ‰äº›åŠŸèƒ½	æ˜¯ä¸å¼€å¯çš„ï¼Œæ¯”å¦‚youtubeå›½å†…ä¸èƒ½ç”¨ï¼Œåˆ™é»˜è®¤æ˜¯å…³é—­çš„ï¼Œå¦‚æœä¸å¯ç”¨å¯¹åº”çš„åŠŸèƒ½ï¼Œåˆ™ä¸ä¼šå¼•å…¥å¯¹åº”çš„åŒ…ï¼Œå‡å°‘é¡¹ç›®ä»£ç ä½“ç§¯ï¼Œå½“ç„¶ä¹Ÿæœ‰	å¯èƒ½æ„å‘³ç€å¯¹åº”çš„åŠŸèƒ½å¯èƒ½ä¼šå‡ºé”™ï¼Œtrue æ˜¯å¼€å¯ï¼Œfalseæ˜¯å…³é—­ï¼Œæ­£å¸¸æƒ…å†µä½¿ç”¨è€…ä¸éœ€è¦careå°±å¯ä»¥ã€‚

	// Example(Only applies to the current global mode). ç”¨é…ç½®é¡¹çš„è¯ä»…æ”¯æŒå…¨å±€æ¨¡å¼æ¥é…ç½®ï¼Œå¦åˆ™ä¸ä¼šç”Ÿæ•ˆ
	VideoPlayer.config({
 	 youtube: true, // default false
	  switcher: false, // default true
	  hls: false // default true
	})

	// use
	Vue.use(VideoPlayer)

	// --------------------------------------

	// or use with component(ES6)
	import Vue from 'vue'
	// ...
	import { videoPlayer } from 'vue-video-player'

	// use
	export default {
  	components: {
    	videoPlayer
  	}
	}
	
#### HLS


#### è¿™é‡Œé»˜è®¤ç»™å‡ºäº† HLS çš„æ–¹æ¡ˆï¼Œæˆ‘ä»¬å…ˆå»å…¨å±€å¼•å…¥ï¼Œåˆ° main.js		

	import VideoPlayer from 'vue-video-player';

	VideoPlayer.config({
 	 youtube: true,
 	 switcher: true,
 	 hls: true
	})

	Vue.use(VideoPlayer)

#### ä¸‹é¢çœ‹ä¸‹æˆ‘çš„ component


	<template>
  		<video-player :options="videoOptions"></video-player>
	</template>

	<script>
	export default {
  	name: 'Play',
 	 data () {
 	   return {
  	    videoOptions: {
     	   source: {
      	    type: "application/x-mpegURL",
       	   src: 'https://logos-channel.scaleengine.net/logos-channel/live/biblescreen-ad-free/	playlist.m3u8',
      	    withCredentials: false
    	    },
    	    language: 'zh-CN',
    	    live: true,
    	    autoplay: true,
    	    height: 540
      		}
   		  }
  		}
	 }
	</script>
	
#### åˆ°è¿™é‡Œä½ çš„æ’­æ”¾å™¨å°±å¯ä»¥æ’­æ”¾ HLS é“¾æ¥äº†	


#### RTMP 


#### ä¸Šé¢è¯´åˆ°åº“åº•å±‚è¿˜æ˜¯ä¾èµ– video.jsï¼Œ æ‰€ä»¥å‘¢æˆ‘ä»¬ä¸å¦¨ç›´æ¥è¿™æ ·ä½¿ç”¨


	export default {
 		 name: 'Play',
  		 data () {
    		return {
      		 videoOptions: {
        	   source: {
         		 type: "rtmp/mp4",
          		 src: 'rtmp://your.streaming.provider.net/cfx/st/&mp4:path/to/video.mp4',
            	 withCredentials: false
       		 },
        		language: 'zh-CN',
        		live: true,
        		autoplay: true,
        		height: 540
      		}
    	 }
  	  }
	}
## <font style="color:red"> --æ€»ç»“-- </font>

#### ä¸¤ç§æ–¹æ³•å‡å¯å°è¯•ï¼Œä¸Šé¢ç»™å‡ºçš„ src æ¢æˆè‡ªå·±çš„é“¾æ¥å°±å®ç°æ‹‰æµæ’­æ”¾å•¦ï¼Œå½“ç„¶ä½ å¦‚æœä¸ç”¨ vue çš„è¯ä¹Ÿæ²¡å…³ç³»ï¼Œç›´æ¥å‚ç…§ video.js çš„å®˜ç½‘ï¼Œå•æ˜¯ RTMP çš„è¯ä¸éœ€è¦ç¬¬ä¸‰æ–¹åº“ï¼Œå¦‚æœæ˜¯ HLS çš„è¯éœ€è¦å¼•å…¥[videojs-contrib-hls](https://github.com/videojs/videojs-contrib-hls)ï¼Œçœ‹å…·ä½“æƒ…å†µè€Œå®šã€‚

ğŸ”—åŸæ–‡é“¾æ¥: [http://orangexc.xyz/2016/11/14/Live-video-player/](http://orangexc.xyz/2016/11/14/Live-video-player/) by @Orange